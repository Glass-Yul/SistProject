<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Dongle&family=Gaegu&family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@100..900&family=Noto+Serif+KR&display=swap" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<title>ajax test2</title>
<style type="text/css">
	#show{
		font-family:'Nanum Pen Script';
		margin-top:30px;
		font-size:1.3em;
	}
</style>
<script type="text/javascript">
		$(function(){
			$("#btn1").click(function(){
				$("#show").empty(); // 연속 쓰기 방지
				
				// xml2 읽기
				$.ajax({
					type:"get",
					url:"data02.xml",
					dataType:"xml",
					success:function(data){ // 넘어온 data는 배열 타입임
						var s="";
						$(data).find("person").each(function(i, ele){
							var n=$(ele);
							s+="<div class='alert alert-info' style='width:400px'>";
							s+="no : "+n.attr("no")+", ";
							s+="name : "+n.find("name").text()+", ";
							s+="addr : "+n.find("addr").text();
							s+="</div>"
						});
						
						$("#show").html(s);
					},
					statusCode:{
						404:function(){
							alert("xml 파일을 찾을 수 없음");
						},
						500:function(){
							alert("서버 오류");
						}
					}
			});
			
		});
			$("#btn2").click(function(){
				$("#show").empty(); // 연속 쓰기 방지
				
				// json2 읽기
				$.ajax({
					type:"get",
					url:"data02.json",
					dataType:"json",
					success:function(data){ // 넘어온 data는 배열 타입임
						var s="";
						$.each(data, function(i, ele){ // i : 인덱스 , ele : 넘어온 데이터
							s+="<div class='alert alert-danger' style='width:400px'>";
							s+="index : "+i+"<br>";
							s+="num : "+ele.num+"<br>";
							s+="name : "+ele.name+"<br>";
							s+="img : "+ele.addr;
							s+="</div>"
						});
						
						$("#show").html(s);
					},
					statusCode:{
						404:function(){
							alert("xml 파일을 찾을 수 없음");
						},
						500:function(){
							alert("서버 오류");
						}
					}
			});
			
		});
		});
	</script>
</head>
<body>
	<h4>xml 파일 읽기</h4>
	<button type="button" class="btn btn-info" id="btn1">data02.xml</button>
	<h4>json 파일 읽기</h4>
	<button type="button" class="btn btn-success" id="btn2">data02.json</button>
	<hr>
	<div id="show">출력 공간</div>
	

</body>
</html>